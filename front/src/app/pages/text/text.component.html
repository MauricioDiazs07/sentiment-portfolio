<div>
    <ng-content></ng-content>
    <br>
    <h6>{{ 'text.instructions' | translate }}</h6>
    <ul>
        <li>{{ 'text.textStart' | translate }}</li>
        <li>{{ 'text.clean' | translate }}</li>
        <li>{{ 'text.analyze' | translate }}</li>
        <li>{{ 'text.stopListening' | translate }}</li>
    </ul>
    <br>
    <p>{{ 'text.text' | translate }}</p>

    <form class="example-form" (keydown.enter)="setAnalyzedText()" [formGroup]="sentimentForm">
        <mat-form-field class="example-full-width">
            <mat-label>{{ 'text.writeText' | translate }}</mat-label>
            <input matInput #text id="text" [formControlName]="'text'" required>
        </mat-form-field>
        <mat-card class="msg-card" *ngIf="(error && submittedForm) || voiceRecService.emptyText">
            <p>{{ 'text.emptyText' | translate }}</p>
        </mat-card>
    </form>
    <div *ngIf="voiceRecService.isTextAnalyzed && !error">{{ sendTextData(text.value) }}</div>
</div>

<div *ngIf="!voiceRecService.isLoading; else loading">
    <div *ngIf="voiceRecService.isStarted"
         [ngClass]="{'positive': voiceRecService.isPos,
                    'negative': !voiceRecService.isPos}">
        <p>{{ 'text.analyzedText' | translate }} {{ voiceRecService.lastAnalyzedText }}</p>
        <p>{{ 'text.sentiment' | translate }} {{ (voiceRecService.isPos ? 'text.positive': 'text.negative') | translate }}</p>
    
        <div></div>
    </div>
</div>

<ng-template #loading>
    <mat-spinner></mat-spinner>
</ng-template>